"use strict";(self.webpackChunkopenfga_dev=self.webpackChunkopenfga_dev||[]).push([[7571],{82428:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return d},default:function(){return h},frontMatter:function(){return u},metadata:function(){return c},toc:function(){return k}});var n=a(87462),i=a(63366),o=(a(67294),a(3905)),l=a(80566),r=a(65488),p=a(85162),s=["components"],u={title:"How to update relationship tuples",sidebar_position:3,slug:"/integration/update-tuples"},d="How to update relationship tuples",c={unversionedId:"content/integration/update-tuples",id:"content/integration/update-tuples",title:"How to update relationship tuples",description:"This section will illustrate how to update .",source:"@site/docs/content/integration/update-tuples.mdx",sourceDirName:"content/integration",slug:"/integration/update-tuples",permalink:"/openfga.dev/integration/update-tuples",draft:!1,editUrl:"https://github.com/openfga/openfga.dev/edit/main/docs/content/integration/update-tuples.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"How to update relationship tuples",sidebar_position:3,slug:"/integration/update-tuples"},sidebar:"docs",previous:{title:"How to create a store",permalink:"/openfga.dev/integration/create-store"},next:{title:"How to perform a check",permalink:"/openfga.dev/integration/perform-check"}},m={},k=[{value:"Before you start",id:"before-you-start",level:2},{value:"Step by Step",id:"step-by-step",level:2},{value:"01. Configure the <ProductName format={ProductNameFormat.ShortForm}/> API client",id:"01-configure-the--api-client",level:3},{value:"02. Calling Write API to Add New Relationship Tuples",id:"02-calling-write-api-to-add-new-relationship-tuples",level:3},{value:"03. Calling Write API to Delete Relationship Tuples",id:"03-calling-write-api-to-delete-relationship-tuples",level:3},{value:"Related Sections",id:"related-sections",level:2}],g={toc:k};function h(e){var t=e.components,a=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"how-to-update-relationship-tuples"},"How to update relationship tuples"),(0,o.kt)(l.AH,{mdxType:"DocumentationNotice"}),(0,o.kt)("p",null,"This section will illustrate how to update ",(0,o.kt)("em",{parentName:"p"},(0,o.kt)(l.uH,{section:"what-is-a-relationship-tuple",linkName:"relationship tuples",mdxType:"ProductConcept"})),"."),(0,o.kt)("h2",{id:"before-you-start"},"Before you start"),(0,o.kt)(r.Z,{groupId:"languages",mdxType:"Tabs"},[l.eU.JS_SDK,l.eU.GO_SDK,l.eU.DOTNET_SDK].map((function(e){return(0,o.kt)(p.Z,{value:e,label:l.UB.get(e),mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)(l.YY,{mdxType:"SdkSetupPrerequisite"})),(0,o.kt)("li",{parentName:"ol"},"You have ",(0,o.kt)("a",{parentName:"li",href:"/openfga.dev/integration/install-sdk"},"installed the SDK"),"."),(0,o.kt)("li",{parentName:"ol"},"You have ",(0,o.kt)("a",{parentName:"li",href:"../modeling"},"configured the ",(0,o.kt)("em",{parentName:"a"},"authorization model")),"."),(0,o.kt)("li",{parentName:"ol"},"You have loaded ",(0,o.kt)("inlineCode",{parentName:"li"},"FGA_ENVIRONMENT"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"FGA_STORE_ID"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"FGA_CLIENT_ID")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"FGA_CLIENT_SECRET")," as environment variables.")))})),(0,o.kt)(p.Z,{value:l.eU.CURL,label:l.UB.get(l.eU.CURL),mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)(l.YY,{mdxType:"SdkSetupPrerequisite"})),(0,o.kt)("li",{parentName:"ol"},"You have ",(0,o.kt)("a",{parentName:"li",href:"../modeling"},"configured the ",(0,o.kt)("em",{parentName:"a"},"authorization model")),"."),(0,o.kt)("li",{parentName:"ol"},"You have loaded ",(0,o.kt)("inlineCode",{parentName:"li"},"FGA_ENVIRONMENT"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"FGA_BEARER_TOKEN")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"FGA_STORE_ID")," as environment variables.")))),(0,o.kt)("h2",{id:"step-by-step"},"Step by Step"),(0,o.kt)("p",null,"Assume that you want to add user ",(0,o.kt)("inlineCode",{parentName:"p"},"anne")," to have relationship ",(0,o.kt)("inlineCode",{parentName:"p"},"reader")," with object ",(0,o.kt)("inlineCode",{parentName:"p"},"document:Z")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json5"},"{\n  user: 'anne',\n  relation: 'reader',\n  object: 'document:Z',\n}\n")),(0,o.kt)("h3",{id:"01-configure-the--api-client"},"01. Configure the ",(0,o.kt)(l.rZ,{format:l.v7.ShortForm,mdxType:"ProductName"})," API client"),(0,o.kt)("p",null,"Before calling the write API, you will need to configure the API client."),(0,o.kt)(r.Z,{groupId:"languages",mdxType:"Tabs"},(0,o.kt)(p.Z,{value:l.eU.JS_SDK,label:l.UB.get(l.eU.JS_SDK),mdxType:"TabItem"},(0,o.kt)(l.j3,{lang:l.eU.JS_SDK,mdxType:"SdkSetupHeader"})),(0,o.kt)(p.Z,{value:l.eU.GO_SDK,label:l.UB.get(l.eU.GO_SDK),mdxType:"TabItem"},(0,o.kt)(l.j3,{lang:l.eU.GO_SDK,mdxType:"SdkSetupHeader"})),(0,o.kt)(p.Z,{value:l.eU.DOTNET_SDK,label:l.UB.get(l.eU.DOTNET_SDK),mdxType:"TabItem"},(0,o.kt)(l.j3,{lang:l.eU.DOTNET_SDK,mdxType:"SdkSetupHeader"})),(0,o.kt)(p.Z,{value:l.eU.CURL,label:l.UB.get(l.eU.CURL),mdxType:"TabItem"},(0,o.kt)("p",null,"To obtain the ",(0,o.kt)("a",{parentName:"p",href:"https://auth0.com/docs/authorization/flows/call-your-api-using-the-client-credentials-flow"},"access token"),":"),(0,o.kt)(l.j3,{lang:l.eU.CURL,mdxType:"SdkSetupHeader"}))),(0,o.kt)("h3",{id:"02-calling-write-api-to-add-new-relationship-tuples"},"02. Calling Write API to Add New Relationship Tuples"),(0,o.kt)("p",null,"To add the relationship tuples, we can invoke the write API."),(0,o.kt)(l.Gb,{relationshipTuples:[{user:"anne",relation:"reader",object:"document:Z"}],skipSetup:!0,allowedLanguages:[l.eU.JS_SDK,l.eU.GO_SDK,l.eU.DOTNET_SDK,l.eU.CURL],mdxType:"WriteRequestViewer"}),(0,o.kt)("h3",{id:"03-calling-write-api-to-delete-relationship-tuples"},"03. Calling Write API to Delete Relationship Tuples"),(0,o.kt)("p",null,"To delete relationship tuples, we can invoke the write API."),(0,o.kt)("p",null,"Assume that you want to delete user ",(0,o.kt)("inlineCode",{parentName:"p"},"anne"),"'s ",(0,o.kt)("inlineCode",{parentName:"p"},"reader")," relationship with object ",(0,o.kt)("inlineCode",{parentName:"p"},"document:Z")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json5"},"{\n  user: 'anne',\n  relation: 'reader',\n  object: 'document:Z',\n}\n")),(0,o.kt)(l.Gb,{deleteRelationshipTuples:[{user:"anne",relation:"reader",object:"document:Z"}],skipSetup:!0,allowedLanguages:[l.eU.JS_SDK,l.eU.GO_SDK,l.eU.DOTNET_SDK,l.eU.CURL],mdxType:"WriteRequestViewer"}),(0,o.kt)("h2",{id:"related-sections"},"Related Sections"),(0,o.kt)(l.$q,{description:"Check the following sections for more on how to write your authorization data",relatedLinks:[{title:"Managing User Access",description:"Learn about how to give a user access to a particular object.",link:"/writing-data/managing-user-access",id:"../writing-data/managing-user-access.mdx"},{title:"Managing Group Access",description:"Learn about how to give a group of users access to a particular object.",link:"/writing-data/managing-group-access",id:"../writing-data/managing-group-access.mdx"},{title:"Transactional Writes",description:"Learn about how to update multiple relations within the same API call.",link:"/writing-data/transactional-writes",id:"../writing-data/transactional-writes.mdx"}],mdxType:"RelatedSection"}))}h.isMDXComponent=!0}}]);