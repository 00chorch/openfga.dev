"use strict";(self.webpackChunkopenfga_dev=self.webpackChunkopenfga_dev||[]).push([[2635],{32826:function(e,n,t){t.r(n),t.d(n,{assets:function(){return m},contentTitle:function(){return g},default:function(){return A},frontMatter:function(){return u},metadata:function(){return d},toc:function(){return c}});var a=t(87462),i=t(63366),o=(t(67294),t(3905)),p=t(6737),r=t(65488),s=t(85162),l=["components"],u={title:"How to setup SDK client",description:"Setting up an OpenFGA SDK client",slug:"/integration/setup-sdk-client"},g="How to setup SDK client",d={unversionedId:"content/integration/setup-sdk-client",id:"content/integration/setup-sdk-client",title:"How to setup SDK client",description:"Setting up an OpenFGA SDK client",source:"@site/docs/content/integration/setup-sdk-client.mdx",sourceDirName:"content/integration",slug:"/integration/setup-sdk-client",permalink:"/integration/setup-sdk-client",draft:!1,editUrl:"https://github.com/openfga/openfga.dev/edit/main/docs/content/integration/setup-sdk-client.mdx",tags:[],version:"current",frontMatter:{title:"How to setup SDK client",description:"Setting up an OpenFGA SDK client",slug:"/integration/setup-sdk-client"},sidebar:"docs",previous:{title:"How to install the SDK",permalink:"/integration/install-sdk"},next:{title:"How to create a store",permalink:"/integration/create-store"}},m={},c=[{value:"Using no authentication",id:"using-no-authentication",level:2},{value:"Using shared key authentication",id:"using-shared-key-authentication",level:2},{value:"Using OIDC",id:"using-oidc",level:2}],f={toc:c};function A(e){var n=e.components,t=(0,i.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"how-to-setup-sdk-client"},"How to setup SDK client"),(0,o.kt)(p.AH,{mdxType:"DocumentationNotice"}),(0,o.kt)("p",null,"This article explains how to build an OpenFGA client by using the SDKs."),(0,o.kt)("p",null,"The first step is to ensure that you have created a store by following ",(0,o.kt)("a",{parentName:"p",href:"/integration/create-store"},"these steps"),"."),(0,o.kt)("p",null,"Next, depending on the authentication scheme you want to use, there are different ways to build the client."),(0,o.kt)("h2",{id:"using-no-authentication"},"Using no authentication"),(0,o.kt)("p",null,"This is a simple setup but it is not recommended for production use."),(0,o.kt)(r.Z,{groupId:"languages",mdxType:"Tabs"},(0,o.kt)(s.Z,{value:p.eU.JS_SDK,label:p.UB.get(p.eU.JS_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const { OpenFgaApi } = require('@openfga/sdk'); // OR import { OpenFgaApi } from '@openfga/sdk';\n\nconst openFga = new OpenFgaApi({\n    apiScheme: FGA_API_SCHEME, // optional, defaults to \"https\"\n    apiHost: FGA_API_HOST, // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n    storeId: FGA_STORE_ID\n});\n"))),(0,o.kt)(s.Z,{value:p.eU.GO_SDK,label:p.UB.get(p.eU.GO_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'import (\n    openfga "github.com/openfga/go-sdk"\n    "os"\n)\n\nfunc Main() {\n    configuration, err := openfga.NewConfiguration(openfga.Configuration{\n        ApiScheme:      os.Getenv("FGA_API_SCHEME"), // optional, defaults to "https"\n        ApiHost:        os.Getenv("FGA_API_HOST"), // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n        StoreId:        os.Getenv("FGA_STORE_ID"),\n    })\n\n    if err != nil {\n        // .. Handle error\n    }\n\n    apiClient := openfga.NewAPIClient(configuration)\n}\n'))),(0,o.kt)(s.Z,{value:p.eU.DOTNET_SDK,label:p.UB.get(p.eU.DOTNET_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dotnet"},'using OpenFga.Sdk.Api;\nusing OpenFga.Sdk.Configuration;\nusing Environment = System.Environment;\n\nnamespace ExampleApp;\n\nclass MyProgram {\n    static async Task Main() {\n        var configuration = new Configuration(environment) {\n            ApiScheme = Environment.GetEnvironmentVariable("FGA_API_SCHEME"), // optional, defaults to "https"\n            ApiHost = Environment.GetEnvironmentVariable("FGA_API_HOST"), // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n            StoreId = Environment.GetEnvironmentVariable("FGA_STORE_ID")\n        };\n        var fgaClient = new OpenFgaApi(configuration);\n    }\n}\n')))),(0,o.kt)("h2",{id:"using-shared-key-authentication"},"Using shared key authentication"),(0,o.kt)("p",null,"If you want to use shared key authentication, you need to generate a random string that will work as secret and set that key when building your OpenFGA server. Then, when building the client, set it as environment variable ",(0,o.kt)("inlineCode",{parentName:"p"},"FGA_BEARER_TOKEN"),"."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If you are going to use this setup in production, you should enable TLS in your OpenFGA server. Please see the ",(0,o.kt)("a",{parentName:"p",href:"/intro/setup-openfga#production-checklist"},"Production Checklist"),"."))),(0,o.kt)(r.Z,{groupId:"languages",mdxType:"Tabs"},(0,o.kt)(s.Z,{value:p.eU.JS_SDK,label:p.UB.get(p.eU.JS_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const { OpenFgaApi } = require('@openfga/sdk'); // OR import { OpenFgaApi } from '@openfga/sdk';\n\nconst openFga = new OpenFgaApi({\n    apiScheme: FGA_API_SCHEME, // optional, defaults to \"https\"\n    apiHost: FGA_API_HOST, // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n    apiToken: FGA_BEARER_TOKEN,\n    storeId: FGA_STORE_ID\n});\n"))),(0,o.kt)(s.Z,{value:p.eU.GO_SDK,label:p.UB.get(p.eU.GO_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'import (\n    openfga "github.com/openfga/go-sdk"\n    "os"\n)\n\nfunc Main() {\n    configuration, err := openfga.NewConfiguration(openfga.Configuration{\n        ApiScheme:      os.Getenv("FGA_API_SCHEME"), // optional, defaults to "https"\n        ApiHost:        os.Getenv("FGA_API_HOST"), // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n        ApiToken:       os.Getenv("FGA_BEARER_TOKEN"),\n        StoreId:        os.Getenv("FGA_STORE_ID"),\n    })\n\n    if err != nil {\n        // .. Handle error\n    }\n\n    apiClient := openfga.NewAPIClient(configuration)\n}\n'))),(0,o.kt)(s.Z,{value:p.eU.DOTNET_SDK,label:p.UB.get(p.eU.DOTNET_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dotnet"},'using OpenFga.Sdk.Api;\nusing OpenFga.Sdk.Configuration;\nusing Environment = System.Environment;\n\nnamespace ExampleApp;\n\nclass MyProgram {\n    static async Task Main() {\n        var configuration = new Configuration(environment) {\n            ApiScheme = Environment.GetEnvironmentVariable("FGA_API_SCHEME"), // optional, defaults to "https"\n            ApiHost = Environment.GetEnvironmentVariable("FGA_API_HOST"), // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n            ApiToken = Environment.GetEnvironmentVariable("FGA_BEARER_TOKEN"),\n            StoreId = Environment.GetEnvironmentVariable("FGA_STORE_ID")\n\n        };\n        var fgaClient = new OpenFgaApi(configuration);\n    }\n}\n')))),(0,o.kt)("h2",{id:"using-oidc"},"Using OIDC"),(0,o.kt)("p",null,"In this case, you need to provide the details of your OIDC token issuer."),(0,o.kt)(r.Z,{groupId:"languages",mdxType:"Tabs"},(0,o.kt)(s.Z,{value:p.eU.JS_SDK,label:p.UB.get(p.eU.JS_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const { OpenFgaApi } = require('@openfga/sdk'); // OR import { OpenFgaApi } from '@openfga/sdk';\n\nconst openFga = new OpenFgaApi({\n    apiScheme: FGA_API_SCHEME, // optional, defaults to \"https\"\n    apiHost: FGA_API_HOST, // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n    storeId: FGA_STORE_ID,\n    apiTokenIssuer: FGA_API_ISSUER,\n    apiAudience: FGA_API_AUDIENCE,\n    clientId: FGA_CLIENT_ID,\n    clientSecret: FGA_CLIENT_SECRET\n});\n"))),(0,o.kt)(s.Z,{value:p.eU.GO_SDK,label:p.UB.get(p.eU.GO_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'import (\n    openfga "github.com/openfga/go-sdk"\n    "os"\n)\n\nfunc Main() {\n    configuration, err := openfga.NewConfiguration(openfga.Configuration{\n        ApiScheme:      os.Getenv("FGA_API_SCHEME"), // optional, defaults to "https"\n        ApiHost:        os.Getenv("FGA_API_HOST"), // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n        StoreId:        os.Getenv("FGA_STORE_ID"),\n        ApiTokenIssuer: os.Getenv("FGA_API_ISSUER"),\n        ApiAudience:    os.Getenv("FGA_API_AUDIENCE"),\n        ClientId:       os.Getenv("FGA_CLIENT_ID"),\n        ClientSecret:   os.Getenv("FGA_CLIENT_SECRET"),\n    })\n\n    if err != nil {\n        // .. Handle error\n    }\n\n    apiClient := openfga.NewAPIClient(configuration)\n}\n'))),(0,o.kt)(s.Z,{value:p.eU.DOTNET_SDK,label:p.UB.get(p.eU.DOTNET_SDK),mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dotnet"},'using OpenFga.Sdk.Api;\nusing OpenFga.Sdk.Configuration;\nusing Environment = System.Environment;\n\nnamespace ExampleApp;\n\nclass MyProgram {\n    static async Task Main() {\n        var configuration = new Configuration(environment) {\n            ApiScheme = Environment.GetEnvironmentVariable("FGA_API_SCHEME"), // optional, defaults to "https"\n            ApiHost = Environment.GetEnvironmentVariable("FGA_API_HOST"), // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)\n            StoreId = Environment.GetEnvironmentVariable("FGA_STORE_ID"),\n            ApiTokenIssuer: Environment.GetEnvironmentVariable("FGA_API_ISSUER"),\n            ApiAudience: Environment.GetEnvironmentVariable("FGA_API_AUDIENCE"),\n            ClientId: Environment.GetEnvironmentVariable("FGA_CLIENT_ID"),\n            ClientSecret: Environment.GetEnvironmentVariable("FGA_CLIENT_SECRET")\n        };\n        var fgaClient = new OpenFgaApi(configuration);\n    }\n}\n')))))}A.isMDXComponent=!0}}]);